(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{111:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var c=n(3),o=n(0),i=n.n(o),a=n(9),s=n.n(a),r=(n(111),n(19)),l=n(212),d=n(223),j=n(11),u=n(68).default;var h=function(){var e=Object(o.useState)(0),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(o.useState)(!1),s=Object(r.a)(a,2),h=s[0],b=s[1],O=Object(o.useState)(!0),x=Object(r.a)(O,2),m=x[0],f=x[1],v=Object(j.f)();Object(o.useEffect)((function(){m&&(f(!1),p())}));var p=function(){u.get("http://localhost:5000/rooms.list").then((function(e){var t=[];e.data.forEach((function(e){t.push(Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:e.name})," ",Object(c.jsx)(l.a,{color:"primary",variant:"contained",onClick:function(){return function(e){v.push("/rooms/"+e)}(e.name)},children:"JOIN"})]},e._id))})),b(t)})).catch((function(e){console.log(e)}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Create Your Live Class"}),Object(c.jsx)(d.a,{id:"outlined-basic",label:"Name",variant:"outlined",onChange:function(e){i(e.target.value)}}),Object(c.jsx)(l.a,{color:"primary",variant:"contained",onClick:function(){return function(e){u.get("http://localhost:5000/rooms.create",{params:{roomName:e}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(n)},children:"CREATE"}),Object(c.jsx)("br",{}),Object(c.jsx)("h3",{children:"ROOMS LIST"}),h]})},b=n(49),O=n(94),x=n(215),m=n(221),f=n(225),v=n(222),p=n(220),g=n(224),y=n(48),w=n(216),C=n(217),k=n(219),N=n(218),E=n(144)("localhost:5000",{transports:["websocket"]}),S=Object(x.a)({root:{maxWidth:410,float:"left"}}),L={height:"390",width:"640",playerVars:{autoplay:0}},T={height:"780",width:"1240",playerVars:{autoplay:0}};var z=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],a=S(),s=function(e){i(e),E.emit("select-video",e)},d=!1;return E.on("select-video",(function(e){i(e)})),n?Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"Videos"}),Object(c.jsx)(l.a,{size:"small",color:"secondary",onClick:function(){i(!1)},children:"Back to Videos"}),Object(c.jsx)(y.a,{videoId:n,opts:T,onStateChange:function(e){return function(e){if(console.log(e),1!==e.data||d)2===e.data&&(d=!1,E.emit("pause-video",t));else{var t=e.target.getCurrentTime();E.emit("play-video",t),d=!0}E.on("play-video",(function(t){e.target.seekTo(t),e.target.playVideo()})),E.on("pause-video",(function(){e.target.stopVideo()}))}(e)},onReady:function(e){return t=e,void console.log(t.target.getCurrentTime());var t}}),";"]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"Videos"}),Object(c.jsx)(l.a,{size:"small",color:"primary",onClick:function(){E.emit("start-session","1")},children:"Video Session"}),Object(c.jsxs)(w.a,{className:a.root,children:[Object(c.jsx)(C.a,{children:Object(c.jsxs)(N.a,{children:[Object(c.jsx)(y.a,{videoId:"TlB_eWDSMt4",opts:L}),";"]})}),Object(c.jsxs)(k.a,{children:[Object(c.jsx)(l.a,{size:"small",color:"primary",onClick:function(){return s("TlB_eWDSMt4")},children:"Watch Fullscreen"}),Object(c.jsx)(l.a,{size:"small",color:"primary",children:"Share"})]})]}),Object(c.jsxs)(w.a,{className:a.root,children:[Object(c.jsx)(C.a,{children:Object(c.jsxs)(N.a,{children:[Object(c.jsx)(y.a,{videoId:"HXV3zeQKqGY",opts:L}),";"]})}),Object(c.jsxs)(k.a,{children:[Object(c.jsx)(l.a,{size:"small",color:"primary",onClick:function(){return s("HXV3zeQKqGY")},children:"Watch Fullscreen"}),Object(c.jsx)(l.a,{size:"small",color:"primary",children:"Share"})]})]}),Object(c.jsxs)(w.a,{className:a.root,children:[Object(c.jsx)(C.a,{children:Object(c.jsxs)(N.a,{children:[Object(c.jsx)(y.a,{videoId:"8ARodQ4Wlf4",opts:L}),";"]})}),Object(c.jsxs)(k.a,{children:[Object(c.jsx)(l.a,{size:"small",color:"primary",onClick:function(){return s("8ARodQ4Wlf4")},children:"Watch Fullscreen"}),Object(c.jsx)(l.a,{size:"small",color:"primary",children:"Share"})]})]})]})};var V=function(){var e=Object(o.useState)(!0),t=Object(r.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){n&&(i(!1),function(){var e=document.getElementsByClassName("whiteboard")[0],t=document.getElementsByClassName("color"),n=e.getContext("2d"),c={color:"black"},o=!1;e.addEventListener("mousedown",s,!1),e.addEventListener("mouseup",r,!1),e.addEventListener("mouseout",r,!1),e.addEventListener("mousemove",j(l,10),!1),e.addEventListener("touchstart",s,!1),e.addEventListener("touchend",r,!1),e.addEventListener("touchcancel",r,!1),e.addEventListener("touchmove",j(l,10),!1);for(var i=0;i<t.length;i++)t[i].addEventListener("click",d,!1);function a(t,c,o,i,a,s){if(n.beginPath(),n.moveTo(t,c),n.lineTo(o,i),n.strokeStyle=a,n.lineWidth=2,n.stroke(),n.closePath(),s){var r=e.width,l=e.height;E.emit("drawing",{x0:t/r,y0:c/l,x1:o/r,y1:i/l,color:a})}}function s(e){o=!0,c.x=e.clientX||e.touches[0].clientX,c.y=e.clientY||e.touches[0].clientY}function r(e){o&&(o=!1,a(c.x,c.y,e.clientX||e.touches[0].clientX,e.clientY||e.touches[0].clientY,c.color,!0))}function l(e){o&&(a(c.x,c.y,e.clientX||e.touches[0].clientX,e.clientY||e.touches[0].clientY,c.color,!0),c.x=e.clientX||e.touches[0].clientX,c.y=e.clientY||e.touches[0].clientY)}function d(e){c.color=e.target.className.split(" ")[1]}function j(e,t){var n=(new Date).getTime();return function(){var c=(new Date).getTime();c-n>=t&&(n=c,e.apply(null,arguments))}}function u(t){var n=e.width,c=e.height;a(t.x0*n,t.y0*c,t.x1*n,t.y1*c,t.color)}function h(){e.width=window.innerWidth,e.height=window.innerHeight}E.on("drawing",u),window.addEventListener("resize",h,!1),h()}())})),Object(c.jsxs)("div",{className:"main-wb",children:[Object(c.jsx)("canvas",{className:"whiteboard"}),Object(c.jsxs)("div",{className:"colors",children:[Object(c.jsx)("div",{className:"color black"}),Object(c.jsx)("div",{className:"color red"}),Object(c.jsx)("div",{className:"color green"}),Object(c.jsx)("div",{className:"color blue"}),Object(c.jsx)("div",{className:"color yellow"})]})]})};function W(e){var t=e.children,n=e.value,o=e.index,i=Object(O.a)(e,["children","value","index"]);return Object(c.jsx)("div",Object(b.a)(Object(b.a)({role:"tabpanel",hidden:n!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o)},i),{},{children:n===o&&Object(c.jsx)(g.a,{p:3,children:Object(c.jsx)(p.a,{children:t})})}))}function Y(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var I=Object(x.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function X(){var e=I(),t=i.a.useState(0),n=Object(r.a)(t,2),o=n[0],a=n[1];E.on("start-session",(function(){a(1)}));return Object(c.jsxs)("div",{className:e.root,children:[Object(c.jsx)(m.a,{position:"static",children:Object(c.jsxs)(f.a,{value:o,onChange:function(e,t){a(t)},"aria-label":"simple tabs example",children:[Object(c.jsx)(v.a,Object(b.a)({label:"Whiteboard"},Y(0))),Object(c.jsx)(v.a,Object(b.a)({label:"Videos"},Y(1)))]})}),Object(c.jsx)(W,{value:o,index:0,children:Object(c.jsx)(V,{})}),Object(c.jsx)(W,{value:o,index:1,children:Object(c.jsx)(z,{})})]})}E.on("connect",(function(){console.log(E.id),_(window.location.pathname.split("/")[2])}));var _=function(e){var t=!1;B("user_id")&&(t=B("user_id")),F.get("http://localhost:5000/rooms.join",{params:{roomName:e,user_id:t}}).then((function(t){console.log(t),E.emit("joinRoom",e),E.emit("updateUserId",t.data.user_id),document.cookie="user_id="+t.data.user_id})).catch((function(e){console.log(e)}))};function B(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),c=0;c<n.length;c++){for(var o=n[c];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return!1}E.on("disconnect",(function(){console.log(E.id)}));var F=n(68).default;var R=function(){var e=Object(o.useState)(!0),t=Object(r.a)(e,2);return t[0],t[1],Object(o.useEffect)((function(){0})),Object(c.jsx)("div",{className:"main",children:Object(c.jsx)(X,{})})},D=n(61);n(174);var A=function(){return Object(c.jsxs)(D.a,{children:[Object(c.jsx)("h1",{children:"CampK12 Live"}),Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/rooms",exact:!0,children:Object(c.jsx)(h,{})}),Object(c.jsx)(j.a,{path:"/",exact:!0,children:Object(c.jsx)(h,{})}),Object(c.jsx)(j.a,{path:"/rooms/:name",children:Object(c.jsx)(R,{})})]})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(A,{})}),document.getElementById("root")),M()}},[[175,1,2]]]);
//# sourceMappingURL=main.818f88ff.chunk.js.map